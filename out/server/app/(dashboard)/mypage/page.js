(()=>{var e={};e.id=865,e.ids=[865],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8629:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>s.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>l,routeModule:()=>x,tree:()=>c}),i(7865),i(6065),i(5866),i(4378);var n=i(3191),o=i(8716),r=i(7922),s=i.n(r),a=i(5231),d={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);i.d(t,d);let c=["",{children:["(dashboard)",{children:["mypage",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,7865)),"/home/devswha/workspace/pomodoro/app/(dashboard)/mypage/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,6065)),"/home/devswha/workspace/pomodoro/app/(dashboard)/layout.js"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,4378)),"/home/devswha/workspace/pomodoro/app/layout.js"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,5866,23)),"next/dist/client/components/not-found-error"]}],l=["/home/devswha/workspace/pomodoro/app/(dashboard)/mypage/page.js"],p="/(dashboard)/mypage/page",h={require:i,loadChunk:()=>Promise.resolve()},x=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(dashboard)/mypage/page",pathname:"/mypage",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},715:(e,t,i)=>{Promise.resolve().then(i.bind(i,4447))},2829:(e,t,i)=>{Promise.resolve().then(i.bind(i,8941))},5047:(e,t,i)=>{"use strict";var n=i(7389);i.o(n,"usePathname")&&i.d(t,{usePathname:function(){return n.usePathname}}),i.o(n,"useRouter")&&i.d(t,{useRouter:function(){return n.useRouter}})},4447:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(326);i(7577);var o=i(5047),r=i(3987);function s({children:e,requireAuth:t=!1}){let{currentUser:i}=(0,r.a)();return((0,o.useRouter)(),t&&!i)?n.jsx("div",{children:"Loading..."}):e}function a({children:e}){return n.jsx(s,{requireAuth:!0,children:e})}},8941:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>eW});var n=i(326),o=i(7577),r=i(5047),s=i(3500),a=i(3987);let d=s.ZP.div.withConfig({componentId:"sc-78a2c919-0"})(["max-width:600px;margin:0 auto;"]),c=s.ZP.div.withConfig({componentId:"sc-78a2c919-1"})(["background:#fff;border:2px solid #000;margin-bottom:24px;border-radius:0;@media (min-width:769px){margin-bottom:32px;}"]),l=s.ZP.div.withConfig({componentId:"sc-78a2c919-2"})(["padding:20px 24px;background:#000;color:#fff;font-weight:700;font-size:16px;text-transform:uppercase;letter-spacing:1px;@media (min-width:769px){padding:24px 32px;font-size:18px;}"]),p=s.ZP.div.withConfig({componentId:"sc-78a2c919-3"})(["padding:24px;@media (min-width:769px){padding:32px;}"]),h=s.ZP.div.withConfig({componentId:"sc-78a2c919-4"})(["margin-bottom:20px;&:last-child{margin-bottom:0;}@media (min-width:769px){margin-bottom:24px;}"]),x=s.ZP.label.withConfig({componentId:"sc-78a2c919-5"})(["display:block;margin-bottom:8px;font-weight:600;font-size:14px;color:#000;text-transform:uppercase;letter-spacing:0.5px;@media (min-width:769px){font-size:16px;}"]),m=s.ZP.input.withConfig({componentId:"sc-78a2c919-6"})(["width:100%;padding:12px 16px;border:2px solid #000;background:#fff;font-size:14px;border-radius:0;color:#000;transition:all 0.2s ease;&:focus{outline:none;background:#f8f9fa;}&:disabled{background:#e9ecef;color:#666;cursor:not-allowed;}@media (min-width:769px){padding:14px 18px;font-size:16px;}"]),u=s.ZP.textarea.withConfig({componentId:"sc-78a2c919-7"})(["width:100%;min-height:100px;padding:12px 16px;border:2px solid #000;background:#fff;font-size:14px;border-radius:0;color:#000;resize:vertical;font-family:inherit;transition:all 0.2s ease;&:focus{outline:none;background:#f8f9fa;}@media (min-width:769px){padding:14px 18px;font-size:16px;min-height:120px;}"]),g=s.ZP.button.withConfig({componentId:"sc-78a2c919-8"})(["padding:12px 24px;background:",";color:#fff;border:none;font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:1px;cursor:pointer;border-radius:0;transition:all 0.2s ease;margin-right:12px;&:hover{opacity:0.9;}&:disabled{background:#ccc;cursor:not-allowed;opacity:0.7;}&:last-child{margin-right:0;}@media (min-width:769px){padding:14px 28px;font-size:16px;margin-right:16px;}"],e=>"danger"===e.variant?"#dc3545":"#000"),f=s.ZP.div.withConfig({componentId:"sc-78a2c919-9"})(["margin-top:8px;font-size:12px;color:",";font-weight:500;"],e=>{switch(e.strength){case"strong":return"#28a745";case"medium":return"#ffc107";case"weak":return"#dc3545";default:return"#666"}}),w=s.ZP.div.withConfig({componentId:"sc-78a2c919-10"})(["margin-top:8px;padding:8px 12px;background:#f8d7da;border:1px solid #f5c6cb;color:#721c24;font-size:14px;border-radius:0;"]),j=s.ZP.div.withConfig({componentId:"sc-78a2c919-11"})(["margin-top:8px;padding:8px 12px;background:#d4edda;border:1px solid #c3e6cb;color:#155724;font-size:14px;border-radius:0;"]),b=s.ZP.div.withConfig({componentId:"sc-78a2c919-12"})(["position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;"]),y=s.ZP.div.withConfig({componentId:"sc-78a2c919-13"})(["background:#fff;border:2px solid #000;padding:32px;max-width:400px;width:100%;text-align:center;"]),v=s.ZP.h3.withConfig({componentId:"sc-78a2c919-14"})(["margin:0 0 16px 0;font-size:18px;font-weight:700;color:#000;text-transform:uppercase;"]),k=s.ZP.p.withConfig({componentId:"sc-78a2c919-15"})(["margin:0 0 24px 0;font-size:14px;color:#666;line-height:1.4;"]),P=s.ZP.div.withConfig({componentId:"sc-78a2c919-16"})(["display:flex;gap:12px;justify-content:center;"]),C=e=>{let t=[];e.length<8&&t.push("Password must be at least 8 characters"),/(?=.*[a-z])/.test(e)||t.push("Must contain lowercase letter"),/(?=.*[A-Z])/.test(e)||t.push("Must contain uppercase letter"),/(?=.*\d)/.test(e)||t.push("Must contain number"),/(?=.*[!@#$%^&*(),.?":{}|<>])/.test(e)||t.push("Must contain special character");let i={weak:t.length>2,medium:1===t.length||2===t.length,strong:0===t.length};return{isValid:0===t.length,errors:t,strength:i.strong?"strong":i.medium?"medium":"weak"}};function I({userProfile:e,setUserProfile:t,userManager:i,currentUser:r}){let[s,a]=(0,o.useState)({displayName:"",email:"",bio:"",currentPassword:"",newPassword:"",confirmPassword:""}),[I,S]=(0,o.useState)(null),[D,Z]=(0,o.useState)(""),[z,M]=(0,o.useState)(""),[A,B]=(0,o.useState)(!1),[L,N]=(0,o.useState)(!1),R=e=>{let{name:t,value:i}=e.target;a(e=>({...e,[t]:i})),"newPassword"===t&&(i?S(C(i)):S(null)),Z(""),M("")},F=async e=>{if(e.preventDefault(),i&&r){B(!0),Z(""),M("");try{let e={displayName:s.displayName,email:s.email,bio:s.bio},n=await i.updateUserProfile(r.id,e);t(n),M("Profile updated successfully!")}catch(e){Z(e.message||"Failed to update profile")}finally{B(!1)}}},U=async e=>{if(e.preventDefault(),i&&r){if(s.newPassword!==s.confirmPassword){Z("New passwords do not match");return}if(!I?.isValid){Z("Password does not meet security requirements");return}B(!0),Z(""),M("");try{let e={currentPassword:s.currentPassword,newPassword:s.newPassword};await i.updateUserProfile(r.id,e),a(e=>({...e,currentPassword:"",newPassword:"",confirmPassword:""})),S(null),M("Password changed successfully!")}catch(e){Z(e.message||"Failed to change password")}finally{B(!1)}}},E=async()=>{if(i&&r)try{await i.deleteUser(r.id),window.location.href="/login"}catch(e){Z(e.message||"Failed to delete account"),N(!1)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d,{children:[(0,n.jsxs)(c,{children:[n.jsx(l,{children:"Personal Information"}),n.jsx(p,{children:(0,n.jsxs)("form",{onSubmit:F,children:[(0,n.jsxs)(h,{children:[n.jsx(x,{htmlFor:"displayName",children:"Display Name"}),n.jsx(m,{id:"displayName",name:"displayName",type:"text",value:s.displayName,onChange:R,placeholder:"Your display name"})]}),(0,n.jsxs)(h,{children:[n.jsx(x,{htmlFor:"email",children:"Email Address"}),n.jsx(m,{id:"email",name:"email",type:"email",value:s.email,onChange:R,placeholder:"your.email@example.com"})]}),(0,n.jsxs)(h,{children:[n.jsx(x,{htmlFor:"bio",children:"Bio"}),n.jsx(u,{id:"bio",name:"bio",value:s.bio,onChange:R,placeholder:"Tell us about yourself..."})]}),D&&n.jsx(w,{children:D}),z&&n.jsx(j,{children:z}),n.jsx(g,{type:"submit",disabled:A,children:A?"Updating...":"Update Profile"})]})})]}),(0,n.jsxs)(c,{children:[n.jsx(l,{children:"Change Password"}),n.jsx(p,{children:(0,n.jsxs)("form",{onSubmit:U,children:[(0,n.jsxs)(h,{children:[n.jsx(x,{htmlFor:"currentPassword",children:"Current Password"}),n.jsx(m,{id:"currentPassword",name:"currentPassword",type:"password",value:s.currentPassword,onChange:R,placeholder:"Enter your current password"})]}),(0,n.jsxs)(h,{children:[n.jsx(x,{htmlFor:"newPassword",children:"New Password"}),n.jsx(m,{id:"newPassword",name:"newPassword",type:"password",value:s.newPassword,onChange:R,placeholder:"Enter your new password"}),I&&(0,n.jsxs)(f,{strength:I.strength,children:["Password strength: ",I.strength.toUpperCase(),I.errors.length>0&&n.jsx("div",{style:{marginTop:"4px"},children:I.errors.map((e,t)=>(0,n.jsxs)("div",{children:["• ",e]},t))})]})]}),(0,n.jsxs)(h,{children:[n.jsx(x,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsx(m,{id:"confirmPassword",name:"confirmPassword",type:"password",value:s.confirmPassword,onChange:R,placeholder:"Confirm your new password"})]}),n.jsx(g,{type:"submit",disabled:A||!s.newPassword||!s.currentPassword,children:A?"Changing...":"Change Password"})]})})]}),(0,n.jsxs)(c,{children:[n.jsx(l,{children:"Account Management"}),(0,n.jsxs)(p,{children:[(0,n.jsxs)(h,{children:[n.jsx(x,{children:"Account Status"}),(0,n.jsxs)("div",{style:{marginBottom:"16px",fontSize:"14px",color:"#666"},children:["Account created: ",e?.createdAt?new Date(e.createdAt).toLocaleDateString():"Unknown"]})]}),(0,n.jsxs)(h,{children:[n.jsx(x,{children:"Data Export"}),n.jsx("div",{style:{marginBottom:"16px",fontSize:"14px",color:"#666"},children:"Download all your profile, statistics, sessions, and meeting data as a JSON file for backup or migration purposes."}),n.jsx("div",{style:{marginBottom:"16px"},children:n.jsx(g,{type:"button",onClick:()=>{try{let t={profile:e,stats:i?.getUserStats(r.id),sessions:i?.getUserSessions(r.id),meetings:i?.getMeetings(r.id),exportDate:new Date().toISOString(),version:"4.0.0",userId:r.id},n=JSON.stringify(t,null,2),o=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(o),a=document.createElement("a");a.href=s,a.download=`pomodoro-data-${r.id}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s),M("Data exported successfully!")}catch(e){Z("Failed to export data: "+e.message)}},children:"Export My Data"})})]}),(0,n.jsxs)(h,{children:[n.jsx(x,{children:"Data Import"}),n.jsx("div",{style:{marginBottom:"16px",fontSize:"14px",color:"#666"},children:"Import profile settings from a previously exported file. This will merge with your existing data where possible."}),(0,n.jsxs)("div",{style:{marginBottom:"16px"},children:[n.jsx(g,{type:"button",onClick:()=>document.getElementById("data-import-file").click(),children:"Import Data"}),n.jsx("input",{id:"data-import-file",type:"file",accept:".json",style:{display:"none"},onChange:n=>{let o=n.target.files[0];if(!o)return;let s=new FileReader;s.onload=n=>{try{let o=JSON.parse(n.target.result);if(!o.profile&&!o.stats&&!o.sessions)throw Error("Invalid data format - missing required sections");if(window.confirm("This will update your profile settings with imported data. Your statistics and sessions will not be modified for security. Continue?")){let n={};o.profile?.displayName&&(n.displayName=o.profile.displayName),o.profile?.bio&&(n.bio=o.profile.bio),o.profile?.preferences&&(n.preferences={...e?.preferences,...o.profile.preferences}),Object.keys(n).length>0?i?.updateUserProfile(r.id,n).then(e=>{t(e),a(t=>({...t,displayName:e.displayName||"",bio:e.bio||""})),M("Profile data imported successfully!")}).catch(e=>{Z("Failed to import data: "+e.message)}):Z("No valid profile data found to import")}}catch(e){Z("Failed to parse import file: "+e.message)}},s.readAsText(o),n.target.value=""}})]})]}),(0,n.jsxs)(h,{children:[n.jsx(x,{children:"Delete Account"}),n.jsx("div",{style:{marginBottom:"16px",fontSize:"14px",color:"#dc3545"},children:"Warning: This action cannot be undone. All your data will be permanently deleted."}),n.jsx(g,{type:"button",variant:"danger",onClick:()=>N(!0),children:"Delete Account"})]})]})]})]}),L&&n.jsx(b,{children:(0,n.jsxs)(y,{children:[n.jsx(v,{children:"Delete Account"}),n.jsx(k,{children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently lost."}),(0,n.jsxs)(P,{children:[n.jsx(g,{type:"button",onClick:()=>N(!1),children:"Cancel"}),n.jsx(g,{type:"button",variant:"danger",onClick:E,children:"Delete Account"})]})]})})]})}let S=s.ZP.div.withConfig({componentId:"sc-efc25d2f-0"})(["max-width:600px;margin:0 auto;"]),D=s.ZP.div.withConfig({componentId:"sc-efc25d2f-1"})(["background:#fff;border:2px solid #000;margin-bottom:24px;border-radius:0;@media (min-width:769px){margin-bottom:32px;}"]),Z=s.ZP.div.withConfig({componentId:"sc-efc25d2f-2"})(["padding:20px 24px;background:#000;color:#fff;font-weight:700;font-size:16px;text-transform:uppercase;letter-spacing:1px;@media (min-width:769px){padding:24px 32px;font-size:18px;}"]),z=s.ZP.div.withConfig({componentId:"sc-efc25d2f-3"})(["padding:24px;@media (min-width:769px){padding:32px;}"]),M=s.ZP.div.withConfig({componentId:"sc-efc25d2f-4"})(["display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid #e9ecef;&:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none;}@media (min-width:769px){margin-bottom:24px;padding-bottom:24px;}@media (max-width:768px){flex-direction:column;align-items:flex-start;gap:12px;}"]),A=s.ZP.div.withConfig({componentId:"sc-efc25d2f-5"})(["flex:1;"]),B=s.ZP.div.withConfig({componentId:"sc-efc25d2f-6"})(["font-weight:600;font-size:14px;color:#000;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:4px;@media (min-width:769px){font-size:16px;}"]),L=s.ZP.div.withConfig({componentId:"sc-efc25d2f-7"})(["font-size:13px;color:#666;line-height:1.4;@media (min-width:769px){font-size:14px;}"]),N=s.ZP.div.withConfig({componentId:"sc-efc25d2f-8"})(["margin-left:20px;@media (max-width:768px){margin-left:0;width:100%;}"]),R=s.ZP.select.withConfig({componentId:"sc-efc25d2f-9"})(["padding:8px 12px;border:2px solid #000;background:#fff;font-size:14px;border-radius:0;color:#000;min-width:120px;cursor:pointer;&:focus{outline:none;background:#f8f9fa;}@media (min-width:769px){padding:10px 14px;font-size:16px;min-width:140px;}@media (max-width:768px){width:100%;}"]),F=s.ZP.input.withConfig({componentId:"sc-efc25d2f-10"})(["padding:8px 12px;border:2px solid #000;background:#fff;font-size:14px;border-radius:0;color:#000;width:80px;text-align:center;&:focus{outline:none;background:#f8f9fa;}@media (min-width:769px){padding:10px 14px;font-size:16px;width:100px;}@media (max-width:768px){width:100%;}"]),U=s.ZP.label.withConfig({componentId:"sc-efc25d2f-11"})(['position:relative;display:inline-block;width:50px;height:24px;cursor:pointer;input{opacity:0;width:0;height:0;}span{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:0.2s;border-radius:0;border:2px solid #000;&:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:#000;transition:0.2s;border-radius:0;}}input:checked + span{background-color:#000;}input:checked + span:before{background-color:#fff;transform:translateX(20px);}@media (min-width:769px){width:60px;height:28px;span:before{height:20px;width:20px;}input:checked + span:before{transform:translateX(26px);}}']),E=s.ZP.button.withConfig({componentId:"sc-efc25d2f-12"})(["padding:12px 24px;background:#000;color:#fff;border:none;font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:1px;cursor:pointer;border-radius:0;transition:all 0.2s ease;margin-right:12px;&:hover{opacity:0.9;}&:disabled{background:#ccc;cursor:not-allowed;opacity:0.7;}&:last-child{margin-right:0;}@media (min-width:769px){padding:14px 28px;font-size:16px;margin-right:16px;}"]),q=s.ZP.div.withConfig({componentId:"sc-efc25d2f-13"})(["margin:16px 0;padding:12px 16px;background:#d4edda;border:2px solid #28a745;color:#155724;font-size:14px;border-radius:0;text-align:center;"]),T=s.ZP.div.withConfig({componentId:"sc-efc25d2f-14"})(["margin:16px 0;padding:12px 16px;background:#f8d7da;border:2px solid #dc3545;color:#721c24;font-size:14px;border-radius:0;text-align:center;"]),_=s.ZP.div.withConfig({componentId:"sc-efc25d2f-15"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:16px;margin-top:16px;"]),G=s.ZP.div.withConfig({componentId:"sc-efc25d2f-16"})(["padding:16px;border:2px solid ",";background:",";color:",";text-align:center;cursor:pointer;font-size:12px;font-weight:600;text-transform:uppercase;transition:all 0.2s ease;&:hover{opacity:0.8;}@media (min-width:769px){padding:20px;font-size:14px;}"],e=>e.selected?"#000":"#ccc",e=>{switch(e.theme){case"dark":case"high-contrast":return"#000";default:return"#fff"}},e=>{switch(e.theme){case"dark":case"high-contrast":return"#fff";default:return"#000"}}),O=s.ZP.div.withConfig({componentId:"sc-efc25d2f-17"})(["display:flex;gap:12px;align-items:center;flex-wrap:wrap;@media (max-width:768px){flex-direction:column;align-items:stretch;}"]),W=s.ZP.input.withConfig({componentId:"sc-efc25d2f-18"})(["display:none;"]);function V({userProfile:e,setUserProfile:t,userManager:i,currentUser:r}){let[s,a]=(0,o.useState)({defaultPomodoroLength:25,breakLength:5,longBreakLength:15,weeklyGoal:140,theme:"minimal",soundEnabled:!0,notificationsEnabled:!0,autoStartBreak:!1,autoStartPomodoro:!1,pomodorosUntilLongBreak:4,soundVolume:50,notificationSound:"bell",focusMode:"normal",showProgressBar:!0,showSessionStats:!0}),[d,c]=(0,o.useState)(!1),[l,p]=(0,o.useState)({type:"",text:""}),h=(e,t)=>{a(i=>({...i,[e]:t})),p({type:"",text:""})},x=async()=>{if(i&&r){c(!0),p({type:"",text:""});try{let e=await i.updateUserProfile(r.id,{preferences:s});t(e),p({type:"success",text:"Preferences saved successfully!"})}catch(e){p({type:"error",text:e.message||"Failed to save preferences"})}finally{c(!1)}}};return(0,n.jsxs)(S,{children:[(0,n.jsxs)(D,{children:[n.jsx(Z,{children:"Pomodoro Settings"}),(0,n.jsxs)(z,{children:[(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Focus Session Length"}),n.jsx(L,{children:"Duration of each pomodoro session in minutes"})]}),n.jsx(N,{children:n.jsx(F,{type:"number",min:"10",max:"60",value:s.defaultPomodoroLength,onChange:e=>h("defaultPomodoroLength",parseInt(e.target.value)||25)})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Short Break Length"}),n.jsx(L,{children:"Duration of short breaks between sessions"})]}),n.jsx(N,{children:n.jsx(F,{type:"number",min:"1",max:"30",value:s.breakLength,onChange:e=>h("breakLength",parseInt(e.target.value)||5)})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Long Break Length"}),n.jsx(L,{children:"Duration of long breaks after multiple sessions"})]}),n.jsx(N,{children:n.jsx(F,{type:"number",min:"10",max:"60",value:s.longBreakLength,onChange:e=>h("longBreakLength",parseInt(e.target.value)||15)})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Pomodoros Until Long Break"}),n.jsx(L,{children:"Number of pomodoros before taking a long break"})]}),n.jsx(N,{children:n.jsx(F,{type:"number",min:"2",max:"8",value:s.pomodorosUntilLongBreak,onChange:e=>h("pomodorosUntilLongBreak",parseInt(e.target.value)||4)})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Weekly Goal"}),n.jsx(L,{children:"Target minutes of focused work per week"})]}),n.jsx(N,{children:n.jsx(F,{type:"number",min:"60",max:"1000",step:"10",value:s.weeklyGoal,onChange:e=>h("weeklyGoal",parseInt(e.target.value)||140)})})]})]})]}),(0,n.jsxs)(D,{children:[n.jsx(Z,{children:"Automation & Behavior"}),(0,n.jsxs)(z,{children:[(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Auto-start Breaks"}),n.jsx(L,{children:"Automatically start break timer when pomodoro completes"})]}),n.jsx(N,{children:(0,n.jsxs)(U,{children:[n.jsx("input",{type:"checkbox",checked:s.autoStartBreak,onChange:e=>h("autoStartBreak",e.target.checked)}),n.jsx("span",{})]})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Auto-start Pomodoros"}),n.jsx(L,{children:"Automatically start next pomodoro when break completes"})]}),n.jsx(N,{children:(0,n.jsxs)(U,{children:[n.jsx("input",{type:"checkbox",checked:s.autoStartPomodoro,onChange:e=>h("autoStartPomodoro",e.target.checked)}),n.jsx("span",{})]})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Focus Mode"}),n.jsx(L,{children:"Block distracting websites during focus sessions"})]}),n.jsx(N,{children:(0,n.jsxs)(R,{value:s.focusMode,onChange:e=>h("focusMode",e.target.value),children:[n.jsx("option",{value:"normal",children:"Normal"}),n.jsx("option",{value:"strict",children:"Strict"}),n.jsx("option",{value:"minimal",children:"Minimal UI"})]})})]})]})]}),(0,n.jsxs)(D,{children:[n.jsx(Z,{children:"Audio & Notifications"}),(0,n.jsxs)(z,{children:[(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Sound Notifications"}),n.jsx(L,{children:"Play sound when sessions start and end"})]}),n.jsx(N,{children:(0,n.jsxs)(U,{children:[n.jsx("input",{type:"checkbox",checked:s.soundEnabled,onChange:e=>h("soundEnabled",e.target.checked)}),n.jsx("span",{})]})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Browser Notifications"}),n.jsx(L,{children:"Show desktop notifications for session changes"})]}),n.jsx(N,{children:(0,n.jsxs)(U,{children:[n.jsx("input",{type:"checkbox",checked:s.notificationsEnabled,onChange:e=>h("notificationsEnabled",e.target.checked)}),n.jsx("span",{})]})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Sound Volume"}),n.jsx(L,{children:"Adjust notification sound volume (0-100)"})]}),n.jsx(N,{children:n.jsx(F,{type:"number",min:"0",max:"100",value:s.soundVolume,onChange:e=>h("soundVolume",parseInt(e.target.value)||50)})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Notification Sound"}),n.jsx(L,{children:"Choose notification sound effect"})]}),n.jsx(N,{children:(0,n.jsxs)(R,{value:s.notificationSound,onChange:e=>h("notificationSound",e.target.value),children:[n.jsx("option",{value:"bell",children:"Bell"}),n.jsx("option",{value:"chime",children:"Chime"}),n.jsx("option",{value:"ding",children:"Ding"}),n.jsx("option",{value:"beep",children:"Beep"})]})})]})]})]}),(0,n.jsxs)(D,{children:[n.jsx(Z,{children:"Theme & Display"}),(0,n.jsxs)(z,{children:[(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Theme"}),n.jsx(L,{children:"Choose your preferred visual theme"})]}),n.jsx(N,{children:(0,n.jsxs)(_,{children:[n.jsx(G,{theme:"minimal",selected:"minimal"===s.theme,onClick:()=>h("theme","minimal"),children:"Minimal"}),n.jsx(G,{theme:"dark",selected:"dark"===s.theme,onClick:()=>h("theme","dark"),children:"Dark"}),n.jsx(G,{theme:"high-contrast",selected:"high-contrast"===s.theme,onClick:()=>h("theme","high-contrast"),children:"High Contrast"})]})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Show Progress Bar"}),n.jsx(L,{children:"Display progress bar during sessions"})]}),n.jsx(N,{children:(0,n.jsxs)(U,{children:[n.jsx("input",{type:"checkbox",checked:s.showProgressBar,onChange:e=>h("showProgressBar",e.target.checked)}),n.jsx("span",{})]})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Show Session Statistics"}),n.jsx(L,{children:"Display real-time statistics on main page"})]}),n.jsx(N,{children:(0,n.jsxs)(U,{children:[n.jsx("input",{type:"checkbox",checked:s.showSessionStats,onChange:e=>h("showSessionStats",e.target.checked)}),n.jsx("span",{})]})})]})]})]}),(0,n.jsxs)(D,{children:[n.jsx(Z,{children:"Import & Export"}),(0,n.jsxs)(z,{children:[(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Backup & Restore"}),n.jsx(L,{children:"Export or import your preference settings"})]}),n.jsx(N,{children:(0,n.jsxs)(O,{children:[n.jsx(E,{type:"button",onClick:()=>{let e=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=`pomodoro-preferences-${r.id}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t)},children:"Export Settings"}),n.jsx(E,{type:"button",onClick:()=>document.getElementById("import-preferences").click(),children:"Import Settings"}),n.jsx(W,{id:"import-preferences",type:"file",accept:".json",onChange:e=>{let t=e.target.files[0];if(!t)return;let i=new FileReader;i.onload=e=>{try{let t=JSON.parse(e.target.result);a(e=>({...e,...t})),p({type:"success",text:"Preferences imported successfully!"})}catch(e){p({type:"error",text:"Invalid preferences file format"})}},i.readAsText(t),e.target.value=""}})]})})]}),(0,n.jsxs)(M,{children:[(0,n.jsxs)(A,{children:[n.jsx(B,{children:"Reset to Defaults"}),n.jsx(L,{children:"Restore all settings to their default values"})]}),n.jsx(N,{children:n.jsx(E,{type:"button",onClick:()=>{a({defaultPomodoroLength:25,breakLength:5,longBreakLength:15,weeklyGoal:140,theme:"minimal",soundEnabled:!0,notificationsEnabled:!0,autoStartBreak:!1,autoStartPomodoro:!1,pomodorosUntilLongBreak:4,soundVolume:50,notificationSound:"bell",focusMode:"normal",showProgressBar:!0,showSessionStats:!0})},children:"Reset Defaults"})})]})]})]}),l.text&&("success"===l.type?n.jsx(q,{children:l.text}):n.jsx(T,{children:l.text})),n.jsx("div",{style:{textAlign:"center",marginTop:"32px"},children:n.jsx(E,{onClick:x,disabled:d,children:d?"Saving...":"Save All Preferences"})})]})}let $=s.ZP.div.withConfig({componentId:"sc-c337f771-0"})(["margin-top:32px;"]),H=s.ZP.h3.withConfig({componentId:"sc-c337f771-1"})(["margin:0 0 24px 0;font-size:18px;font-weight:700;color:#000;text-transform:uppercase;letter-spacing:1px;border-bottom:2px solid #000;padding-bottom:8px;@media (min-width:769px){font-size:20px;}"]),J=s.ZP.div.withConfig({componentId:"sc-c337f771-2"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;margin-bottom:32px;@media (min-width:769px){gap:24px;}"]),X=s.ZP.div.withConfig({componentId:"sc-c337f771-3"})(["background:#fff;border:2px solid ",";padding:20px;border-radius:0;position:relative;opacity:",";transition:all 0.2s ease;&:hover{opacity:",";}@media (min-width:769px){padding:24px;}"],e=>e.unlocked?"#28a745":"#ccc",e=>e.unlocked?"1":"0.6",e=>e.unlocked?"0.95":"0.7"),Y=s.ZP.div.withConfig({componentId:"sc-c337f771-4"})(["width:60px;height:60px;background:",";border:2px solid #000;border-radius:0;display:flex;align-items:center;justify-content:center;font-size:28px;margin-bottom:16px;color:#fff;@media (min-width:769px){width:70px;height:70px;font-size:32px;}"],e=>e.unlocked?"#28a745":"#ccc"),K=s.ZP.h4.withConfig({componentId:"sc-c337f771-5"})(["margin:0 0 8px 0;font-size:16px;font-weight:700;color:",";text-transform:uppercase;letter-spacing:0.5px;@media (min-width:769px){font-size:18px;}"],e=>e.unlocked?"#000":"#666"),Q=s.ZP.p.withConfig({componentId:"sc-c337f771-6"})(["margin:0 0 12px 0;font-size:13px;color:#666;line-height:1.4;@media (min-width:769px){font-size:14px;}"]),ee=s.ZP.div.withConfig({componentId:"sc-c337f771-7"})(["width:100%;height:8px;background:#e9ecef;border:1px solid #000;border-radius:0;overflow:hidden;margin-bottom:8px;"]),et=s.ZP.div.withConfig({componentId:"sc-c337f771-8"})(["height:100%;background:",";width:","%;transition:width 0.3s ease;"],e=>e.complete?"#28a745":"#000",e=>Math.min(e.progress,100)),ei=s.ZP.div.withConfig({componentId:"sc-c337f771-9"})(["font-size:12px;color:#666;font-weight:500;text-align:center;@media (min-width:769px){font-size:13px;}"]),en=s.ZP.div.withConfig({componentId:"sc-c337f771-10"})(["position:absolute;top:8px;right:8px;background:#28a745;color:#fff;padding:4px 8px;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;border-radius:0;@media (min-width:769px){padding:6px 10px;font-size:11px;}"]),eo=s.ZP.div.withConfig({componentId:"sc-c337f771-11"})(["background:#fff;border:2px solid #000;padding:24px;margin-bottom:32px;border-radius:0;@media (min-width:769px){padding:32px;}"]),er=s.ZP.div.withConfig({componentId:"sc-c337f771-12"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;@media (min-width:769px){gap:24px;}"]),es=s.ZP.div.withConfig({componentId:"sc-c337f771-13"})(["text-align:center;"]),ea=s.ZP.div.withConfig({componentId:"sc-c337f771-14"})(["font-size:32px;font-weight:700;color:#000;margin-bottom:8px;@media (min-width:769px){font-size:40px;}"]),ed=s.ZP.div.withConfig({componentId:"sc-c337f771-15"})(["font-size:12px;color:#666;font-weight:600;text-transform:uppercase;letter-spacing:1px;@media (min-width:769px){font-size:14px;}"]),ec=s.ZP.div.withConfig({componentId:"sc-c337f771-16"})(["display:flex;align-items:center;justify-content:center;margin-top:4px;font-size:12px;color:",";"],e=>"up"===e.trend?"#28a745":"down"===e.trend?"#dc3545":"#666"),el=[{id:"first_session",title:"Getting Started",description:"Complete your first pomodoro session",icon:"\uD83C\uDFAF",requirement:e=>e.completedSessions>=1,progress:e=>Math.min(e.completedSessions,1),maxProgress:1},{id:"five_sessions",title:"Focus Apprentice",description:"Complete 5 pomodoro sessions",icon:"\uD83D\uDCDA",requirement:e=>e.completedSessions>=5,progress:e=>Math.min(e.completedSessions,5),maxProgress:5},{id:"marathon",title:"Marathon Runner",description:"Complete 25 pomodoro sessions",icon:"\uD83C\uDFC3‍♂️",requirement:e=>e.completedSessions>=25,progress:e=>Math.min(e.completedSessions,25),maxProgress:25},{id:"centurion",title:"Centurion",description:"Complete 100 pomodoro sessions",icon:"\uD83C\uDFC6",requirement:e=>e.completedSessions>=100,progress:e=>Math.min(e.completedSessions,100),maxProgress:100},{id:"streak_7",title:"Week Warrior",description:"Maintain a 7-day streak",icon:"\uD83D\uDD25",requirement:e=>e.streakDays>=7,progress:e=>Math.min(e.streakDays,7),maxProgress:7},{id:"streak_30",title:"Month Master",description:"Maintain a 30-day streak",icon:"\uD83D\uDCAA",requirement:e=>e.streakDays>=30,progress:e=>Math.min(e.streakDays,30),maxProgress:30},{id:"perfectionist",title:"Perfectionist",description:"Achieve 90% completion rate with at least 20 sessions",icon:"⭐",requirement:e=>e.completionRate>=90&&e.totalSessions>=20,progress:e=>e.totalSessions>=20?Math.min(e.completionRate,90):0,maxProgress:90},{id:"time_master",title:"Time Master",description:"Accumulate 1000 minutes of focused work",icon:"⏰",requirement:e=>e.completedMinutes>=1e3,progress:e=>Math.min(e.completedMinutes,1e3),maxProgress:1e3},{id:"early_bird",title:"Early Bird",description:"Complete 10 sessions before 9 AM",icon:"\uD83C\uDF05",requirement:(e,t)=>t.filter(e=>"completed"===e.status&&9>new Date(e.startTime).getHours()).length>=10,progress:(e,t)=>Math.min(t.filter(e=>"completed"===e.status&&9>new Date(e.startTime).getHours()).length,10),maxProgress:10},{id:"night_owl",title:"Night Owl",description:"Complete 10 sessions after 8 PM",icon:"\uD83E\uDD89",requirement:(e,t)=>t.filter(e=>"completed"===e.status&&new Date(e.startTime).getHours()>=20).length>=10,progress:(e,t)=>Math.min(t.filter(e=>"completed"===e.status&&new Date(e.startTime).getHours()>=20).length,10),maxProgress:10},{id:"weekend_warrior",title:"Weekend Warrior",description:"Complete 20 sessions on weekends",icon:"\uD83C\uDFAE",requirement:(e,t)=>t.filter(e=>{if("completed"!==e.status)return!1;let t=new Date(e.startTime).getDay();return 0===t||6===t}).length>=20,progress:(e,t)=>Math.min(t.filter(e=>{if("completed"!==e.status)return!1;let t=new Date(e.startTime).getDay();return 0===t||6===t}).length,20),maxProgress:20},{id:"goal_achiever",title:"Goal Achiever",description:"Meet your weekly goal for 4 consecutive weeks",icon:"\uD83C\uDFAF",requirement:e=>Math.ceil(e.completedMinutes/(e.weeklyGoal||140))>=4,progress:e=>Math.min(Math.ceil(e.completedMinutes/(e.weeklyGoal||140)),4),maxProgress:4}];function ep({userStats:e,userSessions:t}){let i=(0,o.useMemo)(()=>e&&t?el.map(i=>{let n=i.requirement(e,t),o=i.progress(e,t),r=o/i.maxProgress*100;return{...i,unlocked:n,progress:o,progressPercentage:r}}):[],[e,t]),r=i.filter(e=>e.unlocked),s=i.length,a=(0,o.useMemo)(()=>{if(!e||!t)return null;new Date().toISOString().split("T")[0];let i=new Date;i.setDate(i.getDate()-7);let n=new Date;n.setDate(n.getDate()-30);let o=t.filter(e=>new Date(e.createdAt)>=i&&"completed"===e.status),s=t.filter(e=>new Date(e.createdAt)>=n&&"completed"===e.status),a=e.completedSessions>0?Math.round(e.completedMinutes/e.completedSessions):0,d=e.weeklyGoal>0?Math.round(o.reduce((e,t)=>e+t.duration,0)/e.weeklyGoal*100):0;return{totalBadges:r.length,completionRate:e.completionRate||0,currentStreak:e.streakDays||0,avgSessionLength:a,weeklyProgress:d,monthlyMinutes:s.reduce((e,t)=>e+t.duration,0),bestStreak:e.longestStreak||0}},[e,t,r.length]);return e&&t&&a?(0,n.jsxs)($,{children:[n.jsx(H,{children:"Personal Analytics"}),n.jsx(eo,{children:(0,n.jsxs)(er,{children:[(0,n.jsxs)(es,{children:[n.jsx(ea,{children:a.totalBadges}),n.jsx(ed,{children:"Badges Earned"}),(0,n.jsxs)(ec,{children:[a.totalBadges,"/",s]})]}),(0,n.jsxs)(es,{children:[(0,n.jsxs)(ea,{children:[a.completionRate,"%"]}),n.jsx(ed,{children:"Completion Rate"}),n.jsx(ec,{trend:a.completionRate>=80?"up":a.completionRate>=60?"neutral":"down",children:a.completionRate>=80?"\uD83D\uDCC8 Excellent":a.completionRate>=60?"\uD83D\uDCCA Good":"\uD83D\uDCC9 Improve"})]}),(0,n.jsxs)(es,{children:[n.jsx(ea,{children:a.currentStreak}),n.jsx(ed,{children:"Current Streak"}),(0,n.jsxs)(ec,{children:["Best: ",a.bestStreak," days"]})]}),(0,n.jsxs)(es,{children:[n.jsx(ea,{children:a.avgSessionLength}),n.jsx(ed,{children:"Avg Session (min)"}),n.jsx(ec,{trend:a.avgSessionLength>=20?"up":"neutral",children:a.avgSessionLength>=20?"\uD83C\uDFAF Focused":"⏰ Building"})]}),(0,n.jsxs)(es,{children:[(0,n.jsxs)(ea,{children:[a.weeklyProgress,"%"]}),n.jsx(ed,{children:"Weekly Goal"}),n.jsx(ec,{trend:a.weeklyProgress>=100?"up":a.weeklyProgress>=75?"neutral":"down",children:a.weeklyProgress>=100?"✅ Achieved":a.weeklyProgress>=75?"\uD83C\uDFAF Close":"\uD83D\uDCAA Push"})]}),(0,n.jsxs)(es,{children:[n.jsx(ea,{children:a.monthlyMinutes}),n.jsx(ed,{children:"Monthly Minutes"}),n.jsx(ec,{trend:a.monthlyMinutes>=500?"up":"neutral",children:a.monthlyMinutes>=500?"\uD83D\uDD25 Active":"\uD83D\uDCC8 Growing"})]})]})}),n.jsx(H,{children:"Achievement Badges"}),n.jsx(J,{children:i.map(e=>(0,n.jsxs)(X,{unlocked:e.unlocked,children:[e.unlocked&&n.jsx(en,{children:"Unlocked"}),n.jsx(Y,{unlocked:e.unlocked,children:e.icon}),n.jsx(K,{unlocked:e.unlocked,children:e.title}),n.jsx(Q,{children:e.description}),n.jsx(ee,{children:n.jsx(et,{progress:e.progressPercentage,complete:e.unlocked})}),(0,n.jsxs)(ei,{children:[e.progress," / ",e.maxProgress,e.unlocked&&" ✓"]})]},e.id))})]}):(0,n.jsxs)($,{children:[n.jsx(H,{children:"Achievements & Analytics"}),n.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"Loading achievements..."})]})}let eh=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-0"})(["height:100%;display:flex;flex-direction:column;background:var(--background-secondary);"]),ex=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-1"})(["display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:var(--background-primary);border-bottom:1px solid var(--gray-5);"]),em=s.ZP.button.withConfig({componentId:"sc-a68c3fd9-2"})(["background:none;border:none;color:var(--primary-blue);font-size:16px;font-weight:500;cursor:pointer;padding:8px 0;&:hover{opacity:0.7;}"]),eu=s.ZP.h1.withConfig({componentId:"sc-a68c3fd9-3"})(["font-size:18px;font-weight:600;color:var(--text-primary);margin:0;"]),eg=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-4"})(["width:60px;"]);s.ZP.div.withConfig({componentId:"sc-a68c3fd9-5"})(["background:var(--background-primary);border-bottom:1px solid var(--gray-5);padding:16px 20px;"]),s.ZP.div.withConfig({componentId:"sc-a68c3fd9-6"})(["display:flex;align-items:center;gap:12px;"]),s.ZP.div.withConfig({componentId:"sc-a68c3fd9-7"})(["min-width:80px;"]),s.ZP.select.withConfig({componentId:"sc-a68c3fd9-8"})(["background:var(--background-secondary);border:1px solid var(--gray-5);border-radius:var(--border-radius-small);padding:8px 12px;font-size:14px;color:var(--text-primary);cursor:pointer;&:focus{outline:none;border-color:var(--primary-blue);}"]),s.ZP.div.withConfig({componentId:"sc-a68c3fd9-9"})(["flex:1;"]),s.ZP.button.withConfig({componentId:"sc-a68c3fd9-10"})(["width:100%;background:var(--background-secondary);border:1px solid var(--gray-5);border-radius:var(--border-radius-small);padding:8px 12px;font-size:14px;color:var(--text-primary);cursor:pointer;display:flex;justify-content:space-between;align-items:center;text-align:left;&:hover{background:var(--gray-6);}"]),s.ZP.button.withConfig({componentId:"sc-a68c3fd9-11"})(["background:var(--primary-blue);border:none;border-radius:var(--border-radius-small);padding:8px 12px;color:white;cursor:pointer;display:flex;align-items:center;justify-content:center;&:hover{background:#0056CC;}"]);let ef=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-12"})(["flex:1;padding:20px;overflow-y:auto;@media (min-width:769px){padding:30px;}"]),ew=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-13"})(["display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:24px;@media (min-width:769px){gap:20px;margin-bottom:32px;}"]),ej=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-14"})(["background:var(--background-primary);border-radius:var(--border-radius-large);padding:20px;box-shadow:var(--shadow-small);border:1px solid var(--gray-6);text-align:center;&.primary{background:linear-gradient(135deg,var(--primary-blue) 0%,var(--primary-purple) 100%);color:white;border:none;*{color:white !important;}}&.achievement{border:2px solid var(--primary-green);background:rgba(52,199,89,0.05);}@media (min-width:769px){padding:24px;}"]),eb=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-15"})(["font-size:12px;font-weight:500;color:var(--text-secondary);margin-bottom:8px;text-transform:uppercase;letter-spacing:0.5px;"]),ey=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-16"})(["font-size:24px;font-weight:700;color:var(--text-primary);margin-bottom:4px;"]),ev=s.ZP.span.withConfig({componentId:"sc-a68c3fd9-17"})(["font-size:14px;font-weight:500;margin-left:4px;"]),ek=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-18"})(["margin-bottom:8px;"]),eP=s.ZP.span.withConfig({componentId:"sc-a68c3fd9-19"})(["font-size:12px;font-weight:600;color:var(--primary-green);background:rgba(52,199,89,0.1);padding:4px 8px;border-radius:var(--border-radius-small);"]),eC=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-20"})(["font-size:12px;color:var(--text-secondary);font-weight:500;"]),eI=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-21"})(["background:var(--background-primary);border-radius:var(--border-radius-large);padding:24px;box-shadow:var(--shadow-small);border:1px solid var(--gray-6);margin-bottom:24px;@media (min-width:769px){margin-bottom:32px;}"]),eS=s.ZP.h3.withConfig({componentId:"sc-a68c3fd9-22"})(["font-size:18px;font-weight:600;color:var(--text-primary);margin:0 0 20px 0;text-align:center;"]),eD=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-23"})(["width:100%;height:200px;display:flex;align-items:center;justify-content:center;background:var(--gray-6);border-radius:var(--border-radius-medium);color:var(--text-secondary);font-size:14px;@media (min-width:769px){height:250px;}"]),eZ=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-24"})(["display:flex;justify-content:center;align-items:center;position:relative;width:150px;height:150px;"]),ez=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-25"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;"]),eM=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-26"})(["font-size:32px;font-weight:700;color:var(--text-primary);line-height:1;"]),eA=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-27"})(["font-size:14px;color:var(--text-secondary);font-weight:500;margin-top:4px;"]),eB=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-28"})(["display:flex;background:var(--background-primary);border-bottom:2px solid #000;border-radius:0;"]),eL=s.ZP.button.withConfig({componentId:"sc-a68c3fd9-29"})(["flex:1;padding:16px;background:",";color:",";border:none;font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:1px;cursor:pointer;transition:all 0.2s ease;&:hover{opacity:",";}@media (min-width:769px){padding:20px;font-size:16px;}"],e=>e.active?"#000":"transparent",e=>e.active?"#fff":"#000",e=>e.active?"1":"0.7"),eN=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-30"})(["flex:1;overflow-y:auto;padding:20px;background:#fff;@media (min-width:769px){padding:30px;}"]),eR=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-31"})(["display:flex;align-items:center;gap:20px;margin-bottom:32px;padding:24px;background:#fff;border:2px solid #000;border-radius:0;@media (min-width:769px){padding:32px;}"]),eF=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-32"})(["position:relative;"]),eU=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-33"})(["width:80px;height:80px;background:",";border:2px solid #000;border-radius:0;display:flex;align-items:center;justify-content:center;color:#fff;font-size:32px;font-weight:700;@media (min-width:769px){width:100px;height:100px;font-size:40px;}"],e=>e.src?`url(${e.src}) center/cover`:"#000"),eE=s.ZP.input.withConfig({componentId:"sc-a68c3fd9-34"})(["position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;"]),eq=s.ZP.div.withConfig({componentId:"sc-a68c3fd9-35"})(["flex:1;"]),eT=s.ZP.h2.withConfig({componentId:"sc-a68c3fd9-36"})(["margin:0 0 8px 0;font-size:24px;font-weight:700;color:#000;text-transform:uppercase;letter-spacing:1px;@media (min-width:769px){font-size:32px;}"]),e_=s.ZP.p.withConfig({componentId:"sc-a68c3fd9-37"})(["margin:0 0 12px 0;font-size:14px;color:#666;font-weight:500;@media (min-width:769px){font-size:16px;}"]),eG=s.ZP.p.withConfig({componentId:"sc-a68c3fd9-38"})(["margin:0;font-size:14px;color:#333;line-height:1.4;@media (min-width:769px){font-size:16px;}"]),eO=s.ZP.h3.withConfig({componentId:"sc-a68c3fd9-39"})(["margin:0 0 24px 0;font-size:18px;font-weight:700;color:#000;text-transform:uppercase;letter-spacing:1px;border-bottom:2px solid #000;padding-bottom:8px;@media (min-width:769px){font-size:20px;}"]);function eW(){let e=(0,r.useRouter)(),{currentUser:t,getUserStats:i,getUserSessions:s,userManager:d}=(0,a.a)(),[c,l]=(0,o.useState)("month"),[p,h]=(0,o.useState)(null),[x,m]=(0,o.useState)([]),[u,g]=(0,o.useState)("overview"),[f,w]=(0,o.useState)(null),j=(0,o.useMemo)(()=>{if(!p)return null;let e=p.totalSessions||0,t=p.completedSessions||0,i=p.totalMinutes||0,n=p.streakDays||0;p.longestStreak;let o=Math.floor(t/2);return{focusSessions:t,totalSessions:e,stickerCount:o,stickerPercentage:Math.min(100,o/100*100),seriesCount:n,seriesPercentage:Math.min(100,n/30*100),completionRate:e>0?Math.round(t/e*100):0,totalMinutes:i}},[p]),b=()=>{e.push("/main")},y=e=>{let i=e.target.files[0];if(i){let e=new FileReader;e.onload=e=>{let i=e.target.result;d&&t&&d.updateUserProfile(t.id,{avatar:i}).then(e=>{w(e)}).catch(console.error)},e.readAsDataURL(i)}};return t&&f&&j?(0,n.jsxs)(eh,{children:[(0,n.jsxs)(ex,{children:[n.jsx(em,{onClick:b,children:"Back"}),n.jsx(eu,{children:"My Profile"}),n.jsx(eg,{})]}),(0,n.jsxs)(eB,{children:[n.jsx(eL,{active:"overview"===u,onClick:()=>g("overview"),children:"Overview"}),n.jsx(eL,{active:"settings"===u,onClick:()=>g("settings"),children:"Settings"}),n.jsx(eL,{active:"preferences"===u,onClick:()=>g("preferences"),children:"Preferences"})]}),n.jsx(eN,{children:(()=>{switch(u){case"overview":return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eR,{children:[(0,n.jsxs)(eF,{children:[n.jsx(eU,{src:f?.avatar,children:!f?.avatar&&(f?.displayName||t?.id||"U")[0].toUpperCase()}),n.jsx(eE,{type:"file",accept:"image/*",onChange:y})]}),(0,n.jsxs)(eq,{children:[n.jsx(eT,{children:f?.displayName||t?.id||"User"}),n.jsx(e_,{children:f?.email||"No email provided"}),n.jsx(eG,{children:f?.bio||"No bio available"})]})]}),j&&(0,n.jsxs)(n.Fragment,{children:[n.jsx(eO,{children:"Statistics Overview"}),(0,n.jsxs)(ew,{children:[(0,n.jsxs)(ej,{className:"primary",children:[n.jsx(eb,{children:"Focus Sessions"}),(0,n.jsxs)(ey,{children:[j.focusSessions,n.jsx(ev,{children:"sessions"})]})]}),(0,n.jsxs)(ej,{className:"primary",children:[n.jsx(eb,{children:"Total Pomodoros"}),(0,n.jsxs)(ey,{children:[j.totalSessions,n.jsx(ev,{children:"sessions"})]})]}),(0,n.jsxs)(ej,{className:"achievement",children:[n.jsx(ek,{children:n.jsx(eP,{children:"Achievements"})}),(0,n.jsxs)(ey,{children:[j.stickerCount,n.jsx(ev,{children:"badges"})]}),(0,n.jsxs)(eC,{children:["(",Math.round(j.stickerPercentage),"%)"]})]}),(0,n.jsxs)(ej,{className:"achievement",children:[n.jsx(ek,{children:n.jsx(eP,{children:"Streak"})}),(0,n.jsxs)(ey,{children:[j.seriesCount,n.jsx(ev,{children:"days"})]}),(0,n.jsxs)(eC,{children:["(",Math.round(j.seriesPercentage),"%)"]})]})]}),(0,n.jsxs)(eI,{children:[n.jsx(eS,{children:"Completion Rate"}),n.jsx(eD,{children:(0,n.jsxs)(eZ,{children:[(0,n.jsxs)("svg",{width:"150",height:"150",viewBox:"0 0 150 150",children:[n.jsx("circle",{cx:"75",cy:"75",r:"60",fill:"none",stroke:"#e9ecef",strokeWidth:"12"}),n.jsx("circle",{cx:"75",cy:"75",r:"60",fill:"none",stroke:"#000",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${j.completionRate/100*377} 377`,transform:"rotate(-90 75 75)",style:{transition:"stroke-dasharray 0.5s ease"}})]}),(0,n.jsxs)(ez,{children:[(0,n.jsxs)(eM,{children:[j.completionRate,"%"]}),n.jsx(eA,{children:"Completion"})]})]})})]})]}),n.jsx(ep,{userStats:p,userSessions:x})]});case"settings":return n.jsx(I,{userProfile:f,setUserProfile:w,userManager:d,currentUser:t});case"preferences":return n.jsx(V,{userProfile:f,setUserProfile:w,userManager:d,currentUser:t});default:return n.jsx("div",{children:"Tab not found"})}})()})]}):(0,n.jsxs)(eh,{children:[(0,n.jsxs)(ex,{children:[n.jsx(em,{onClick:b,children:"Back"}),n.jsx(eu,{children:"My Profile"}),n.jsx(eg,{})]}),n.jsx(ef,{children:n.jsx("div",{style:{textAlign:"center",padding:"60px 20px",color:"#666"},children:"Loading profile data..."})})]})}},6065:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});let n=(0,i(8570).createProxy)(String.raw`/home/devswha/workspace/pomodoro/app/(dashboard)/layout.js#default`)},7865:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});let n=(0,i(8570).createProxy)(String.raw`/home/devswha/workspace/pomodoro/app/(dashboard)/mypage/page.js#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),n=t.X(0,[948,525,248],()=>i(8629));module.exports=n})();